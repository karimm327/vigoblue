const loginForm = document.getElementById("loginForm"); loginForm.addEventListener("submit", async (e) => { e.preventDefault(); const email = document.getElementById("loginEmail").value; const password = document.getElementById("loginPassword").value; const res = await fetch("/login", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ email, password }) }); const result = await res.json(); if (result.success && result.redirect) { window.location.href = result.redirect; } else { alert(result.message); } }); const registerForm = document.getElementById("registerForm"); registerForm.addEventListener("submit", async (e) => { e.preventDefault(); const email = document.getElementById("registerEmail").value; const password = document.getElementById("registerPassword").value; const res = await fetch("/register", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ email, password }) }); const result = await res.json(); alert(result.message); if (result.success && result.redirect) setTimeout(() => window.location.href = result.redirect, 1000); });
